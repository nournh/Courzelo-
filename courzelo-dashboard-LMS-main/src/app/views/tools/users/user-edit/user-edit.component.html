<div class="container mt-5">
    <div class="card p-4 shadow-lg border-0">
        <h2 class="mb-4 text-center text-primary fw-bold">Edit User</h2>

        <!-- Loading Indicator -->
        <div *ngIf="isLoading" class="text-center">
            <div class="spinner-border text-primary" role="status"></div>
            <p class="mt-2 text-muted">Loading user data...</p>
        </div>

        <!-- Form -->
        <form [formGroup]="editForm" (ngSubmit)="updateUser()" *ngIf="editForm && !isLoading">
            <div class="row g-4">
                <!-- Email (Editable) -->
                <div class="col-md-6">
                    <label for="email" class="form-label fw-bold">Email</label>
                    <input id="email" type="email" class="form-control rounded-3 shadow-sm" formControlName="email" required />
                    <div *ngIf="editForm.get('email')?.invalid && editForm.get('email')?.touched" class="text-danger small mt-1">
                        Valid email is required.
                    </div>
                </div>

                <!-- First Name -->
                <div class="col-md-6">
                    <label for="name" class="form-label fw-bold">First Name</label>
                    <input id="name" class="form-control rounded-3 shadow-sm" formControlName="name" required />
                </div>

                <!-- Last Name -->
                <div class="col-md-6">
                    <label for="lastname" class="form-label fw-bold">Last Name</label>
                    <input id="lastname" class="form-control rounded-3 shadow-sm" formControlName="lastname" required />
                </div>

                <!-- Birth Date -->
                <div class="col-md-6">
                    <label for="birthDate" class="form-label fw-bold">Birth Date</label>
                    <input id="birthDate" type="date" class="form-control rounded-3 shadow-sm" formControlName="birthDate" required />
                </div>

           <!-- Gender (Dropdown) -->
<div class="col-md-6">
    <label for="gender" class="form-label fw-bold">Gender</label>
    <select id="gender" class="form-select rounded-3 shadow-sm" formControlName="gender" required>
        <option value="" disabled selected>Select Gender</option>
        <option *ngFor="let gender of genderOptions" [value]="gender">{{ gender }}</option>
    </select>
</div>

<!-- Country (Dropdown) -->
<div class="col-md-6">
    <label for="country" class="form-label fw-bold">Country</label>
    <select id="country" class="form-select rounded-3 shadow-sm" formControlName="country" required>
        <option value="" disabled selected>Select Country</option>
        <option *ngFor="let country of countries" [value]="country">{{ country }}</option>
    </select>
</div>


                <!-- Title -->
                <div class="col-md-6">
                    <label for="title" class="form-label fw-bold">Title</label>
                    <input id="title" class="form-control rounded-3 shadow-sm" formControlName="title" placeholder="Enter your title" />
                </div>

                <!-- Bio -->
                <div class="col-md-6">
                    <label for="bio" class="form-label fw-bold">Bio</label>
                    <textarea id="bio" class="form-control rounded-3 shadow-sm" formControlName="bio" rows="3" placeholder="Write about yourself"></textarea>
                </div>
            </div>

            <!-- Buttons -->
            <div class="text-center mt-4">
                <button type="submit" class="btn btn-success px-4 fw-bold rounded-3 shadow-sm" [disabled]="editForm.invalid">
                    Save
                </button>
                <button type="button" class="btn btn-outline-secondary px-4 ms-2 fw-bold rounded-3 shadow-sm" (click)="router.navigate(['/tools/users'])">
                    Cancel
                </button>
            </div>
        </form>
    </div>
</div>

<!-- Optional: Add custom CSS for additional styling -->
<style>
    .form-control, .form-select {
        transition: all 0.3s ease;
        border: 1px solid #ced4da;
    }
    .form-control:focus, .form-select:focus {
        border-color: #86b7fe;
        box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
    }
    .card {
        border-radius: 15px;
    }
    .btn-success {
        background-color: #28a745;
        border-color: #28a745;
    }
    .btn-success:hover {
        background-color: #218838;
        border-color: #1e7e34;
    }
    .btn-outline-secondary {
        border-color: #6c757d;
        color: #6c757d;
    }
    .btn-outline-secondary:hover {
        background-color: #6c757d;
        color: #fff;
    }
</style>